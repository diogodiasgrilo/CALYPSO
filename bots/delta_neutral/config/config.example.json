{
    "_comment": "EXAMPLE CONFIGURATION - Copy this file to config.json and fill in your credentials",

    "saxo_api": {
        "sim": {
            "app_key": "YOUR_SIM_APP_KEY",
            "app_secret": "YOUR_SIM_APP_SECRET",
            "access_token": "YOUR_SIM_ACCESS_TOKEN",
            "refresh_token": "YOUR_SIM_REFRESH_TOKEN",
            "token_expiry": null
        },
        "live": {
            "app_key": "YOUR_LIVE_APP_KEY",
            "app_secret": "YOUR_LIVE_APP_SECRET",
            "access_token": "YOUR_LIVE_ACCESS_TOKEN",
            "refresh_token": "YOUR_LIVE_REFRESH_TOKEN",
            "token_expiry": null
        },
        "environment": "sim",
        "_environment_options": "sim (paper trading) or live",
        "base_url_sim": "https://gateway.saxobank.com/sim/openapi",
        "base_url_live": "https://gateway.saxobank.com/openapi",
        "streaming_url_sim": "wss://streaming.saxobank.com/sim/openapi/streamingws/connect",
        "streaming_url_live": "wss://streaming.saxobank.com/openapi/streamingws/connect",
        "redirect_uri": "http://localhost:8080/callback",
        "auth_url_sim": "https://sim.logonvalidation.net/authorize",
        "token_url_sim": "https://sim.logonvalidation.net/token",
        "auth_url_live": "https://live.logonvalidation.net/authorize",
        "token_url_live": "https://live.logonvalidation.net/token"
    },

    "strategy": {
        "name": "Delta Neutral (Brian Terry)",
        "underlying_symbol": "SPY",
        "underlying_uic": 36590,
        "_underlying_uic_note": "UIC for SPY:arcx (SPDR S&P 500 ETF Trust) - verified",
        "vix_symbol": "VIX.I",
        "vix_uic": 10606,
        "_vix_uic_note": "UIC for VIX index (CBOE Volatility Index). 10606 is standard for VIX.I",
        "max_vix_entry": 18.0,
        "_max_vix_entry_note": "Only enter trades when VIX is below this level",
        "long_straddle_target_dte": 120,
        "_long_straddle_note": "Find the closest available expiration to this target DTE",
        "recenter_threshold_points": 5.0,
        "_recenter_note": "Recenter position when SPY moves this many points from strike",
        "weekly_strangle_multiplier_min": 1.5,
        "weekly_strangle_multiplier_max": 2.0,
        "_strangle_note": "Short strangle strikes at N times expected weekly move (used in multiplier mode)",
        "weekly_target_return_percent": 1.0,
        "_weekly_target_note": "Target 1% NET weekly return based on LONG STRADDLE COST. When set, uses 1% mode instead of multiplier mode.",
        "short_strangle_max_multiplier": 1.5,
        "_max_multiplier_note": "Maximum expected move multiplier for short strikes. Strikes beyond this are capped at 1.5x.",
        "short_strangle_entry_fee_per_leg": 2.0,
        "_entry_fee_note": "Entry fee per option leg in dollars. Used in NET return calculation.",
        "exit_dte_max": 60,
        "_exit_dte_note": "Close entire position when long straddle reaches this DTE. Per Brian Terry: exit at 60 DTE to avoid accelerated theta decay.",
        "roll_days": ["Friday"],
        "_roll_note": "Day to roll weekly shorts (open new, close expiring)",
        "max_bid_ask_spread_percent": 0.5,
        "_spread_note": "Maximum acceptable bid-ask spread for slippage protection",
        "position_size": 1,
        "recenter_cutoff_minutes_before_close": 15,
        "_recenter_cutoff_note": "No recenters after 3:45 PM EST (15 min before close) - risk of incomplete multi-leg operation",
        "shorts_cutoff_minutes_before_close": 10,
        "_shorts_cutoff_note": "No new short entries or rolls after 3:50 PM EST (10 min before close)"
    },

    "circuit_breaker": {
        "max_consecutive_errors": 3,
        "_errors_note": "Open circuit after this many consecutive API errors",
        "max_disconnection_seconds": 60,
        "_disconnection_note": "Open circuit if no successful connection for this long",
        "cooldown_minutes": 15,
        "_cooldown_note": "How long to wait before retrying after circuit opens"
    },

    "google_sheets": {
        "enabled": false,
        "_enabled_note": "Set to true to enable Google Sheets logging",
        "credentials_file": "google_credentials.json",
        "_credentials_note": "Path to Google service account JSON file",
        "spreadsheet_name": "Trading_Bot_Log",
        "worksheet_name": "Trades",
        "strategy_type": "delta_neutral",
        "_strategy_type_note": "Use 'delta_neutral' for this bot (straddle+strangle, theta tracking)"
    },

    "microsoft_sheets": {
        "enabled": false,
        "_enabled_note": "Set to true to enable Microsoft Excel/SharePoint logging",
        "client_id": "YOUR_MS_CLIENT_ID",
        "client_secret": "YOUR_MS_CLIENT_SECRET",
        "tenant_id": "YOUR_TENANT_ID",
        "site_url": "https://yourtenant.sharepoint.com/sites/yoursite",
        "workbook_name": "Trading_Bot_Log.xlsx",
        "worksheet_name": "Trades"
    },

    "logging": {
        "log_file": "bot_log.txt",
        "log_level": "INFO",
        "_log_level_options": "DEBUG, INFO, WARNING, ERROR, CRITICAL",
        "console_output": true
    },

    "currency": {
        "base_currency": "USD",
        "_base_currency_note": "Currency that SPY trades in (always USD for US stocks)",
        "account_currency": "EUR",
        "_account_currency_note": "Your Saxo account currency (check API response)",
        "enabled": true,
        "_enabled_note": "Set to true to enable currency conversion, false for USD accounts",
        "cache_rate_seconds": 300,
        "_cache_note": "Cache exchange rates for this many seconds (300 = 5 minutes)"
    },

    "account": {
        "account_key": "YOUR_ACCOUNT_KEY",
        "client_key": "YOUR_CLIENT_KEY"
    },

    "external_price_feed": {
        "enabled": true,
        "_enabled_note": "Use external price feeds (Yahoo Finance) when Saxo returns NoAccess. Only works in simulation mode. Set to false to disable.",
        "_note": "External feeds provide 15-min delayed prices for development/testing. Live accounts should set this to false to use real-time Saxo data."
    }
}
